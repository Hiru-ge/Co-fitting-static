# プロジェクト概要:Coffee-fitting

コーヒーの味を維持したまま、出来上がり量を変化させる変換器です。

## 使用技術一覧
<!-- シールド一覧 -->
<p style="display: inline">
  <img src="https://img.shields.io/badge/-Html5-E34F26.svg?logo=html5&style=plastic">
  <img src="https://img.shields.io/badge/-Css3-1572B6.svg?logo=css3&style=plastic">
  <img src="https://img.shields.io/badge/-Javascript-F7DF1E.svg?logo=javascript&style=plastic">
</p>

## 目次

1. [作成の経緯](#作成の経緯)
2. [背景知識](#背景知識)
3. [使用方法](#使用方法)
4. [既知の問題](#既知の問題)

## 作成の経緯

「美味しいいれ方はあるんだけど、200mlじゃなくて300ml作りたいんだよな...」ということがしばしばあり、手軽に量の変換ができるツールがあれば便利だと思ったので作りました。

## 背景知識

この変換器が行っている変換処理の根幹は、「変換前と変換後の最終量から倍率を求め、各注湯プロセスに倍率をかける」という単純な比率変換です。

ここでは、「この比率変換がなぜ味のキープにつながるのか」という点について述べます(コーヒー自体の理論に興味がない方は本節を読み飛ばしても大丈夫です)。

<details>
<summary>単純な比率変換が味のキープに結びつく理由</summary>
  
まず、コーヒーの粉から溶け出す成分には、「溶け出す順番」というものがあります。

抽出の際には湯を注ぐので、親水性のものから疎水性のものという順番で溶け出してくるというわけです。

しかし溶け出す成分の種類はとても多く、それら一つ一つを特定してコントロールするということはほぼ不可能に近いです。

ですが、この溶け出す順番には経験則的にいわれているある程度の大まかな流れがあります。それは、 **「香り→酸味→甘み→苦味→雑味」** の順に溶け出すという流れです。
とはいっても完璧にこの順番通り整列しているわけではなく、溶け出しやすさのピークが来るのがこの順番というイメージです。

そこで、本ツールを理解する上で重要なのは、 **「どの味をどれだけ抽出するか」** という点です。

「甘み」がピークの時点で大量に湯を注げば、甘味成分の多いコーヒーが全体量中の多くを占め、苦味が少なく、酸味や甘みの多いコーヒーになります。一方、「苦味」の時点で大量に湯を注げば、甘みの割合が比較的少なくなって甘みを感じにくくなります。

つまり本ツールでは、元レシピにおける各タイミングでの注湯配分を維持することで、「どの味が出やすいタイミングで」「全体量のどれだけを占める分注ぐのか」を維持し、コーヒーの味を保っているというわけです。

余談ですが、これは「抽出をどの程度進めるかによって味を決定できる」という話でもあり、一般的に好みの味を探る際には、湯温や用いる器具、粉の粒度などを調整することで抽出の進度を調整することで、理想の味を探るという方法が有効と思われます。

</details>

## 使用方法

本リポジトリのファイルをローカルに引っぱって個々で利用することも可能ですし、ブラウザで使用することもできます
([http://hiruge-tools.com/Coffee-fitting](http://hiruge-tools.com/Coffee-fitting/))

より詳細な変換器の使用方法は、[使い方ページ](http://hiruge-tools.com/Coffee-fitting/how-to-use.html)をご覧ください(後でreadmeにも追加予定です)

## 既知の問題

- 湯の抜け
  - この変換器では、豆量変化による流速(湯の抜け)の変化が加味されていません。単純な比率変換であることを理解した上で、変換結果を参考にしてください。
  - 湯の抜けが考慮されていないため、投数が少ない(3投以下)とかなり無理のあるレシピになってしまうことがあります。投数の多いレシピでお試しください。

なお、この問題に対する改善を検討中ですが、現在具体的な改善の目処は立っていません。
